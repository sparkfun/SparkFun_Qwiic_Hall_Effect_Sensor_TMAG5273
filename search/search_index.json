{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":"<p>This is just a placeholder file for the webpage re-direct. All the content for this section is actually in the <code>getting_started.md</code> file.</p>"},{"location":"example_angle_calculation/","title":"Angle Calculation Example","text":""},{"location":"example_angle_calculation/#description","title":"Description","text":"<p>The <code>Example3_AngleCalculations.ino</code> example file can be accessed from the File &gt; Examples &gt; SparkFun TMAG5273 Arduino Library &gt; Example3_AngleCalculations drop-down menu. This example demonstrates one of the advanced features of the TMAG5273; it enables a CORDIC engine to calculate the angle of a magnet rotating about the z-axis.</p> <code>Example3_AngleCalculations.ino</code> Code Verification <p>This code was last verified to be functional under the following parameters:</p> <pre><code>Arduino IDE Version: 2.2.1\nArduino Library Version: 1.0.3\n\nHardware Platform:\n- SparkFun RedBoard Plus\n- SparkFun Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic)\n- SparkFun Mini Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic)\n</code></pre> <pre><code>#include &lt;Wire.h&gt;            // Used to establish serial communication on the I2C bus\n#include \"SparkFun_TMAG5273_Arduino_Library.h\" // Used to send and recieve specific information from our sensor\n\n// Create a new sensor object\nTMAG5273 sensor; \n\n// I2C default address\nuint8_t i2cAddress = TMAG5273_I2C_ADDRESS_INITIAL;\n\n// Set constants for setting up device\nuint8_t conversionAverage = TMAG5273_X32_CONVERSION;\nuint8_t magneticChannel = TMAG5273_XYX_ENABLE;\nuint8_t angleCalculation = TMAG5273_XY_ANGLE_CALCULATION;\n\nvoid setup() \n{\n  Wire.begin();\n  // Start serial communication at 115200 baud\n  Serial.begin(115200);   \n\n  // Begin example of the magnetic sensor code (and add whitespace for easy reading)\n  Serial.println(\"TMAG5273 Example 3: Angle Calculations\");\n  Serial.println(\"\");\n  // If begin is successful (0), then start example\n  if(sensor.begin(i2cAddress, Wire) == true)\n  {\n    Serial.println(\"Begin\");\n  }\n  else // Otherwise, infinite loop\n  {\n    Serial.println(\"Device failed to setup - Freezing code.\");\n    while(1); // Runs forever\n  }\n\n  // Set the device at 32x average mode \n  sensor.setConvAvg(conversionAverage);\n\n  // Choose new angle to calculate from\n  // Can calculate angles between XYX, YXY, YZY, and XZX\n  sensor.setMagneticChannel(magneticChannel);\n\n  // Enable the angle calculation register\n  // Can choose between XY, YZ, or XZ priority\n  sensor.setAngleEn(angleCalculation);\n\n}\n\n\nvoid loop() \n{\n  if((sensor.getMagneticChannel() != 0) &amp;&amp; (sensor.getAngleEn() != 0)) // Checks if mag channels are on - turns on in setup\n  {\n    float angleCalculation = sensor.getAngleResult();\n\n    Serial.print(\"XYX: \");\n    Serial.print(angleCalculation, 4);\n    Serial.println(\"\u00b0\");\n\n  }\n  else\n  {\n    Serial.println(\"Mag Channels disabled, stopping..\");\n    while(1);\n  }\n\n  delay(1000);\n}\n</code></pre>"},{"location":"example_angle_calculation/#hardware-connections","title":"Hardware Connections","text":"<p>For this example, users simply need to connect their Qwiic Hall-Effect Sensor board to their microcontroller, utilizing the I<sup>2</sup>C interface. With the recommended hardware, users can easily connect their boards with the Qwiic connection system.</p> <p></p> <p></p> <p> The Qwiic Hall-Effect Sensor boards are connected to a RedBoard Plus, with a Qwiic cable. </p> Pin Connections <p>For users with a development board without a Qwiic connector, the table below illustrates the required pin connections. Make sure that the logic-level of the sensor is compatible with the development board that is being connected.</p> <p> Sensor Pin Microcontroller Pin RedBoard/Uno <code>SCL</code> I<sup>2</sup>C - Serial Clock <code>SCL</code>/<code>A5</code> <code>SDA</code> I<sup>2</sup>C - Serial Data <code>SDA</code>/<code>A4</code> <code>3V3</code> Power: 1.7 to 3.6V <code>3.3V</code> <code>GND</code> Ground <code>GND</code> <p></p>"},{"location":"example_angle_calculation/#serial-monitor","title":"Serial Monitor","text":"<p>This example enables the CORDIC engine to calculate the angle of a magnet rotating about the z-axis, which is then displayed in the Serial Monitor.</p> <p></p> <p>The angle of the magnet is streamed from the TMAG5273 sensor into the Serial Monitor.</p> <p>Tip</p> <p>For this example to work, users should rotate a magnet's polarity about the z-axis of the TMAG5273 hall-effect sensor. Similar to how the magnetic knob is used for this stove top:</p> <p> </p> <p>Warning</p> <p>The casing of rare Earth magnets is often conductive. Users should take precautions to avoid shorting out the components or electrical contacts with these types of magnets.</p>"},{"location":"example_basic/","title":"Basic Example","text":""},{"location":"example_basic/#description","title":"Description","text":"<p>Once the Arduino library has been installed, the <code>Example1_BasicReadings.ino</code> example file can be accessed from the File &gt; Examples &gt; SparkFun TMAG5273 Arduino Library &gt; Example1_BasicReadings drop-down menu. This example reads the raw magnetic flux (mT) and temperature (\u00b0C) data from the TMAG5273 sensor through the I<sup>2</sup>C interface and displays them in the Serial Monitor.</p> <code>Example1_BasicReadings.ino</code> Code Verification <p>This code was last verified to be functional under the following parameters:</p> <pre><code>Arduino IDE Version: 2.2.1\nArduino Library Version: 1.0.3\n\nHardware Platform:\n- SparkFun RedBoard Plus\n- SparkFun Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic)\n- SparkFun Mini Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic)\n</code></pre> <pre><code>#include &lt;Wire.h&gt;            // Used to establish serial communication on the I2C bus\n#include \"SparkFun_TMAG5273_Arduino_Library.h\" // Used to send and recieve specific information from our sensor\n\nTMAG5273 sensor; // Initialize hall-effect sensor\n\n// I2C default address\nuint8_t i2cAddress = TMAG5273_I2C_ADDRESS_INITIAL;\n\nvoid setup() \n{\n  Wire.begin();\n  // Start serial communication at 115200 baud\n  Serial.begin(115200);  \n\n  // Begin example of the magnetic sensor code (and add whitespace for easy reading)\n  Serial.println(\"TMAG5273 Example 1: Basic Readings\");\n  Serial.println(\"\");\n\n  // If begin is successful (0), then start example\n  if(sensor.begin(i2cAddress, Wire) == 1)\n  {\n    Serial.println(\"Begin\");\n  }\n  else // Otherwise, infinite loop\n  {\n    Serial.println(\"Device failed to setup - Freezing code.\");\n    while(1); // Runs forever\n  }\n\n}\n\n\nvoid loop() \n{\n  // Checks if mag channels are on - turns on in setup\n  if(sensor.getMagneticChannel() != 0) \n  {\n    sensor.setTemperatureEn(true);\n\n    float magX = sensor.getXData();\n    float magY = sensor.getYData();\n    float magZ = sensor.getZData();\n    float temp = sensor.getTemp();\n\n    Serial.print(\"(\");\n    Serial.print(magX);\n    Serial.print(\", \");\n    Serial.print(magY);\n    Serial.print(\", \");\n    Serial.print(magZ);\n    Serial.println(\") mT\");\n    Serial.print(temp);\n    Serial.println(\" C\");\n  }\n  else\n  {\n    // If there is an issue, stop the magnetic readings and restart sensor/example\n    Serial.println(\"Mag Channels disabled, stopping..\");\n    while(1);\n  }\n\n  delay(100);\n}\n</code></pre>"},{"location":"example_basic/#hardware-connections","title":"Hardware Connections","text":"<p>For this example, users simply need to connect their Qwiic Hall-Effect Sensor board to their microcontroller, utilizing the I<sup>2</sup>C interface. With the recommended hardware, users can easily connect their boards with the Qwiic connection system.</p> <p></p> <p></p> <p> The Qwiic Hall-Effect Sensor boards are connected to a RedBoard Plus, with a Qwiic cable. </p> Pin Connections <p>For users with a development board without a Qwiic connector, the table below illustrates the required pin connections. Make sure that the logic-level of the sensor is compatible with the development board that is being connected.</p> <p> Sensor Pin Microcontroller Pin RedBoard/Uno <code>SCL</code> I<sup>2</sup>C - Serial Clock <code>SCL</code>/<code>A5</code> <code>SDA</code> I<sup>2</sup>C - Serial Data <code>SDA</code>/<code>A4</code> <code>3V3</code> Power: 1.7 to 3.6V <code>3.3V</code> <code>GND</code> Ground <code>GND</code> <p></p>"},{"location":"example_basic/#serial-monitor","title":"Serial Monitor","text":"<p>This example reads the magnetic flux (mT) and temperature values (\u00b0C) from the TMAG5273 sensor and displays them in the Serial Monitor.</p> <p></p> <p>The magnetic flux (mT) and temperature (\u00b0C) values streamed from the TMAG5273 sensor into the Serial Monitor.</p> <p>Tip</p> <p>For this example to work, users will need to move a magnet near the sensor.</p> <p>Warning</p> <p>The casing of rare Earth magnets is often conductive. Users should take precautions to avoid shorting out the components or electrical contacts with these types of magnets.</p>"},{"location":"example_interrupt/","title":"Interrupt Example","text":""},{"location":"example_interrupt/#description","title":"Description","text":"<p>The <code>Example2_Interrupts.ino</code> example file can be accessed from the File &gt; Examples &gt; SparkFun TMAG5273 Arduino Library &gt; Example2_Interrupts drop-down menu. This example builds upon the previous code in <code>Example1_BasicReadings.ino</code>. Instead of constantly streaming the sensor values from the TMAG5273, the microcontroller enables a magnetic threshold interrupt on the x-axis. Then, it waits until an interrupt is triggered on the <code>INT</code> pin before the data is retrieved through the I<sup>2</sup>C interface.</p> <code>Example2_Interrupts.ino</code> Code Verification <p>The code modification was last verified to be functional under the following parameters:</p> <pre><code>Arduino IDE Version: 2.2.1\nArduino Library Version: 1.0.3\n\nHardware Platform:\n- SparkFun RedBoard Plus\n- SparkFun Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic)\n- SparkFun Mini Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic)\n</code></pre> <p>Required Modification</p> <p>This code was developed to be utilized with the ESP32 on the IoT Motor Driver. Users will need to modify the example code, to utilize the interrupt pins of the ATmega328P on the RedBoard Plus. Replace uint8_t intPin = 4; with uint8_t intPin = 2; to utilize the <code>D2</code> pin on the RedBoard Plus, which can handle interrupts.</p> <p>Original Code:</p> <pre><code>// Interrupt pin used\n// NOTE: This pin is specific to the SparkFun IoT Motor Driver\nuint8_t intPin = 4;\n</code></pre> <p>Modified Code:</p> <pre><code>// Interrupt pin used\n// NOTE: This pin is specific to the SparkFun IoT Motor Driver\nuint8_t intPin = 2;\n</code></pre> <pre><code>#include &lt;Wire.h&gt;               // Used to establish serial communication on the I2C bus\n#include \"SparkFun_TMAG5273_Arduino_Library.h\"  // Used to send and recieve specific information from our sensor\n\nTMAG5273 sensor;  // Initialize hall-effect sensor\n\n// I2C default address\nuint8_t i2cAddress = TMAG5273_I2C_ADDRESS_INITIAL;\n\n// Interrupt pin used\n// NOTE: This pin is specific to the SparkFun IoT Motor Driver\nuint8_t intPin = 4;\n\n// Start the flag as false\nbool interruptFlag = false;\n\n// ISR to print what interrupt was triggered\nvoid isr1() \n{\n  interruptFlag = true;\n}\n\n\nvoid setup() \n{\n  Wire.begin();\n  // Start serial communication at 115200 baud\n  Serial.begin(115200);\n\n  // Configure Interrupt Pin\n  pinMode(intPin, INPUT);\n  // Attach interrupt to pin 4 as a digital, falling pin\n  attachInterrupt(digitalPinToInterrupt(intPin), isr1, CHANGE);\n\n  // Begin example of the magnetic sensor code (and add whitespace for easy reading)\n  Serial.println(\"TMAG5273 Example 2: Interrupts\");\n  Serial.println(\"\");\n  // If begin is successful (0), then start example\n  if (sensor.begin(i2cAddress, Wire) == true)\n  {\n    Serial.println(\"Begin\");\n  } \n  else  // Otherwise, infinite loop\n  {\n    Serial.println(\"Device failed to setup - Freezing code.\");\n    while (1);  // Runs forever\n  }\n\n  // Set interrupt through !INT\n  sensor.setInterruptMode(TMAG5273_INTERRUPT_THROUGH_INT);\n\n  // Set the !INT pin state - pulse for 10us\n  sensor.setIntPinState(true);\n\n  // Enable the interrupt response for the thresholds\n  sensor.setThresholdEn(true);\n\n  //int pinStatus = sensor.getInterruptPinStatus();\n  pinMode(intPin, INPUT);\n\n  // Set X, Y, Z, and T Thresholds for interrupt to be triggered\n  sensor.setXThreshold(5);            // mT\n  //sensor.setYThreshold(5);            // mT\n  //sensor.setZThreshold(5);            // mT\n  //sensor.setTemperatureThreshold(50);  // C\n\n  Serial.print(\"X Threshold Set: \");\n  Serial.println(sensor.getXThreshold());\n}\n\n/* To use the other thresholds, simply change the names and use the other functions: \n- sensor.getYThreshold();\n- sensor.getZThreshold();\n- sensor.getTemperatureThreshold();\n*/\n\nvoid loop()\n{\n  if (interruptFlag == true) \n  {\n    interruptFlag = false;\n    Serial.println(\"X Threshold Reached!\");\n\n    int xThresh = sensor.getXThreshold();\n    Serial.print(\"X Threshold: \");\n    Serial.println(xThresh);\n\n    if (sensor.getMagneticChannel() != 0)  // Checks if mag channels are on - turns on in setup\n    {\n      float magX = sensor.getXData();\n      float magY = sensor.getYData();\n      float magZ = sensor.getZData();\n      float temp = sensor.getTemp();\n\n      Serial.print(\"(\");\n      Serial.print(magX);\n      Serial.print(\", \");\n      Serial.print(magY);\n      Serial.print(\", \");\n      Serial.print(magZ);\n      Serial.println(\") mT\");\n      Serial.print(temp);\n      Serial.println(\" \u00b0C\");\n    } \n    else \n    {\n      Serial.println(\"Mag Channels disabled, stopping..\");\n      while (1);\n    }\n  }\n  else\n  {\n    Serial.println(\"Checking for Interrupts...\");\n  }\n\n  delay(500);\n\n}\n</code></pre>"},{"location":"example_interrupt/#hardware-connections","title":"Hardware Connections","text":"<p>For this example, users simply need to connect their Qwiic Hall-Effect Sensor board to their microcontroller, utilizing the I<sup>2</sup>C interface and interrupt pin. Users can easily connect the I<sup>2</sup>C interface with the Qwiic connection system on their boards. To connect the interrupt pin, we recommend utilizing an IC-hook for a temporary connection.</p> <p></p> <p></p> <p> The Qwiic Hall-Effect Sensor boards are connected to a RedBoard Plus, with a Qwiic cable and an IC-hook. </p> Pin Connections <p>For users with a development board without a Qwiic connector, the table below illustrates the required pin connections. Make sure that the logic-level of the sensor is compatible with the development board that is being connected.</p> <p> Sensor Pin Microcontroller Pin RedBoard/Uno <code>INT</code> Interrupt Pin <code>D2</code> <code>SCL</code> I<sup>2</sup>C - Serial Clock <code>SCL</code>/<code>A5</code> <code>SDA</code> I<sup>2</sup>C - Serial Data <code>SDA</code>/<code>A4</code> <code>3V3</code> Power: 1.7 to 3.6V <code>3.3V</code> <code>GND</code> Ground <code>GND</code> <p></p>"},{"location":"example_interrupt/#serial-monitor","title":"Serial Monitor","text":"<p>This example waits until an interrupt is triggered by the magnetic threshold before data is retrieved from the TMAG5273 sensor. The data is then displayed in the Serial Monitor.</p> <p></p> <p>The magnetic flux (mT) and temperature (\u00b0C) values streamed from the TMAG5273 sensor into the Serial Monitor.</p> <p>Tip</p> <p>For this example to work, users will need to move a magnet near the sensor to trigger the interrupt.</p> <p>Warning</p> <p>The casing of rare Earth magnets is often conductive. Users should take precautions to avoid shorting out the components or electrical contacts with these types of magnets.</p>"},{"location":"hardware_assembly/","title":"Hardware Assembly","text":""},{"location":"hardware_assembly/#qwiic-cable","title":"Qwiic Cable","text":"<p>The simplest method to connect a microcontroller to a Qwiic Hall-Effect Sensor board is through the Qwiic connector.</p> <p></p> <p>Connecting a Qwiic cable to the Qwiic Hall-Effect Sensor board.</p> <p>Info</p> <p>The Qwiic connection system is a standardized solderless, polarized connector interface that allows users to seamlessly daisy chain I<sup>2</sup>C boards together.</p> Remove Tape <p>Users with the mini version of the Qwiic Hall-Effect Sensor board should remove the tape covering the Qwiic connector.</p> <p> Removing the tape from the Qwiic connector to the Qwiic Hall-Effect Sensor board. </p> <p>Info</p> <p>The tape is used by the pick-and-place machine to place the connector on the board during assembly.</p> <p>Note</p> <p>The tweezers are not necessary, they were only used for illustration purposes. (Fingers would have obscured the camera shot.)</p>"},{"location":"hardware_assembly/#breakout-pins","title":"Breakout Pins","text":"<p>The PTH pins on the Qwiic Hall-Effect Sensor board are broken out into 0.1\"-spaced pins on the outer edge of the board.</p> New to soldering? <p>If you have never soldered before or need a quick refresher, check out our How to Solder: Through-Hole Soldering guide.</p> <ul> <li> <p> <p>How to Solder: Through-Hole Soldering</p>"},{"location":"hardware_assembly/#hookup-wires","title":"Hookup Wires","text":"<p>For a more permanent connection, users can solder wires directly to the board.</p> <p></p> <p>Soldering wires to the Qwiic Hall-Effect Sensor board.</p>"},{"location":"hardware_assembly/#headers","title":"Headers","text":"<p>When selecting headers, be sure you are aware of the functionality or physical arrangement required.</p> <p></p> <p>Soldering headers to the Qwiic Hall-Effect Sensor board.</p>"},{"location":"hardware_overview/","title":"Hardware Overview","text":""},{"location":"hardware_overview/#board-dimensions","title":"Board Dimensions","text":"<p>The Qwiic Hall-Effect Sensors are laid out in the standardized 0.5\"x 1\" (1.77 x 2.54 cm) mini form-factor and the regular, 1\" x 1\" (2.54 x 2.54 cm) Qwiic breakout board. These boards also include standard 0.13\" mounting holes, which are compatible with 4-40 screws. The dimensions of these boards are illustrated in the drawings below, where the listed measurements are in inches.</p> <p></p> <p></p> <p> Dimensions (PDF) for the Qwiic Hall-Effect Sensor boards, in inches. </p> Need more measurements? <p>For more information about the board's dimensions, users can download the eagle files for the boards. These files can be opened in Eagle and additional measurements can be made with the dimensions tool.</p>  Eagle - Free Download! <p>Eagle is a CAD program for electronics that is free to use for hobbyists and students. However, it does require an account registration to utilize the software.</p> <p> Download fromAutodesk primary logo </p>  Dimensions Tool <p>This video from Autodesk demonstrates how to utilize the dimensions tool in Eagle, to include additional measurements:</p> <p> </p>"},{"location":"hardware_overview/#power","title":"Power","text":"<p>The TMAG5273 requires a supply voltage between 2.3 to 3.6V (1). This power can be provided to the board, either, through one of the polarized Qwiic connectors or the dedicated 3.3V (<code>3V3</code>) and ground (<code>GND</code>) PTH pins broken out on the board.</p> <ol> <li>While the sensor's listed voltage range is 1.7 to 3.6V, its under-voltage range is 1.9 to 2.2V. Users may find that their sensor is unresponsive below 2.3V.</li> </ol> <p></p> <p></p> <p> Qwiic Hall-Effect Sensor boards' power connections. </p> <p>Warning</p> <p>The Qwiic connect system is meant to run on 3.3V. Ensure that another voltage is not being supplied through the PTH pins when utilized in conjunction with this system.</p> Under-Voltage Threshold <p>The under-voltage threshold of the TMAG5273 is 1.9 to 2.2V. It is recommended that users provide an input voltage between 2.3 to 3.6V.</p> <p>Info</p> <p>For more details, users can reference the schematic and the TMAG5273 datasheet.</p>"},{"location":"hardware_overview/#power-status-led","title":"Power Status LED","text":"<p>The red, <code>PWR</code> LED will begin to light up once ~1.4V is supplied to the board; however, for most users, it will light up when 3.3V is supplied through the Qwiic connector. A jumper is available to disconnect the power from the LED, for low-power applications (see Jumpers section below).</p> <p></p> <p></p> <p> The <code>PWR</code> status LED on the Qwiic Hall-Effect Sensor boards. </p> <p>Minimum Voltage</p> <p>Users should keep in mind that the forward voltage of the red LED is lower than the minimum voltage required to power the TMAG5273 sensor. Therefore, the LED could potentially be (dimly) lit, when there isn't enough voltage to power the sensor.</p>"},{"location":"hardware_overview/#tmag5273","title":"TMAG5273","text":"<p>The Qwiic Hall-Effect Sensor board features the TMAG5273 sensor from Texas Instruments. The TMAG5273 is low-power 3D hall-effect sensor that is perfect for detecting and measuring changes in a nearby magnetic field. The magnetic range of the sensor is configurable to either \u00b140 mT or \u00b180 mT. In addition, the TMAG5273 features TI's integrated angle calculation engine (CORDIC) with gain adjustment, tamper detection, and temperature compensation (for NdBFe and ceramic magnet types). The operation sensor's interrupt can be configured to trigger through the I<sup>2</sup>C interface or an interrupt pin, based upon a wake-up/threshold setting or the conversion of a new measurement.</p> <p>Features:</p> <ul> <li>Configurable I<sup>2</sup>C Address:<ul> <li>Default (7-bit): 0x35 (hex) or <code>0110101</code> (bin)</li> </ul> </li> <li>Operating Voltage: 1.7 to 3.6V (1)</li> <li>Current Draw:<ul> <li>Active: 2.3mA</li> <li>Sleep Mode: 5nA</li> <li>Wake-Up/Sleep (@ 1Hz): 1\u00b5A</li> </ul> </li> <li>Full-Scale Range: \u00b140mT or \u00b180mT (2)</li> <li>Accuracy: \u00b15% (3)<ul> <li>Temperature Compensation (4)</li> </ul> </li> <li>CORDIC Engine (5)</li> <li>Output Data Rate (Hz): (6)<ul> <li>0.05, 0.2, 0.5, 1, 2, 10, 20, 33, 50, 66, 100, 200, or 1000</li> </ul> </li> <li>Operating Temperature: -40 to 125\u00b0C</li> <li>Interrupt Triggers:<ul> <li>Threshold</li> <li>Conversion</li> </ul> </li> </ul> <ol> <li>The sensor may be unresponsive below 2.3V; its under-voltage range is 1.9 to 2.2V</li> <li>The range on each axis</li> <li>The typical sensitivity at room temperature</li> <li>Adjusts for magnet type (NdBFe or ceramic)</li> <li>Integrated angle calculation (along a single axis)</li> <li>CRC can be enabled</li> </ol> <p></p> <p>The TMAG5273 sensor on the Qwiic Hall-Effect Sensor boards.</p> Sensor Alignment PositionOrientation <p>We have positioned the TMAG5273 chip, based on the offset of the internal hall elements in the sensor.</p> <p> Position of the hall elements in the TMAG5273. Source: TMAG5273 Datasheet </p> <p>Info</p> <p>For exact measurements, users can download and reference the eagle files of the boards. We recommend referencing the sensor's position based on the board's CNC milled, mounting holes.</p> <p>Note</p> <p>In manufacturing, we panelize our boards on a single PCB with a v-score separation. This is an efficient method to assemble multiple boards at once. After the panel is populated, cleaned, and inspected, the individual boards are separated by slicing the v-scores.</p> <p>While efficient, this process means that measurements referencing the edges of the PCB won't be as accurate when compared to the included mounting holes.</p> <p>The orientation of the sensor's axes is illustrated in the figure below.</p> <p> The magnetic field orientation of the TMAG5273 hall-effect sensor. The TMAG5273's orientation is indicated by the black dot, just below the TI logo. Source: TMAG5273 Datasheet </p> <p>Info</p> <p>The orientation of the TMAG5273 sensor is indicated by the white silkscreen dot, next to the sensor, on the PCB of the Qwiic Hall-Effect Sensor boards. That dot correlates with the black dot just below the Texas Instruments logo in the figure above. </p> Interrupt Operation <p>The interrupt function for the TMAG5273 can be set up to operate on either the <code>INT</code> or <code>SCL</code> pins. Users can also configure what triggers the interrupt, a threshold or data conversion. Control of the interrupt's operation is managed in the following registers:</p> <ul> <li><code>DEVICE_CONFIG_2</code></li> <li><code>SENSOR_CONFIG_2</code></li> <li><code>INT_CONFIG_1</code></li> </ul> Magnetic Offset Correction <p>The TMAG5273 features an offset correction, on a pair of magnetic axes for situations where the sensor might be affected by a persistent magnetic field. The offsets are configured in the following registers:</p> <ul> <li><code>MAG_OFFSET_CONFIG_1</code></li> <li><code>MAG_OFFSET_CONFIG_2</code></li> <li><code>SENSOR_CONFIG_2</code></li> </ul> <p> The magnetic flux measurements of a sine curve with an offset above the reference axis. Source: TMAG5273 Datasheet </p> Gain Adjustment <p>The TMAG5273 features a gain adjustment, on a pair of magnetic axes for situations where a magnet's rotation axis is offset from the position of the sensor's hall elements. The gain adjustments are configured in the following registers:</p> <ul> <li><code>MAG_GAIN_CONFIG</code></li> <li><code>SENSOR_CONFIG_2</code></li> </ul> <p> The magnetic flux measurements of the TMAG5273 utilizing a magnet, with an on-axis and off-axis position. Source: TMAG5273 Datasheet </p> Tamper Detection <p>Magnetic tamper detection can be employed with the TMAG5273 by continuously monitoring for external magnetic fields. For more details, users can reference section 8.2.1 of the TMAG5273 datasheet and the application note.</p> <p>Info</p> <p>For more details, users can reference the TMAG5273 datasheet.</p>"},{"location":"hardware_overview/#breakout-pins","title":"Breakout Pins","text":"<p>There are six PTH pins broken out on the Qwiic Hall-Effect Sensor boards. The pins are evenly spaced at 0.1\" on the outer edge of the board; perfect for attaching headers. These pins provide access to the I<sup>2</sup>C interface and interrupt pin of the TMAG5273 sensor; and included is a <code>DISABLE</code> pin that controls the power to the sensor.</p> <p>Note</p> <p>The I<sup>2</sup>C interface can also be accessed through the Qwiic connectors on the board.</p>"},{"location":"hardware_overview/#disable-pin","title":"Disable Pin","text":"<p>Unfortunately, the TMAG5273 doesn't incorporate a software reset. The intended use of the TMAG5273 is to hard reset the sensor's power with a GPIO pin. However, with the Qwiic connect system, users may not want to power cycle the other Qwiic devices on the system. Therefore, we have incorporated <code>DISABLE</code> pin whose circuitry allows users to reset the TMAG5273, without interrupting the power of the Qwiic connect system.</p> <p></p> <p></p> <p> The <code>DISABLE</code> pin on the Qwiic Hall-Effect Sensor boards. </p> <p>Info</p> <p>For more details, users can reference the schematic and the TMAG5273 datasheet.</p>"},{"location":"hardware_overview/#disable-button","title":"Disable Button","text":"<p>A Disable button is only provided on the regular, 1\" x 1\" Qwiic board. This button is connected to the same reset circuitry of the <code>DISABLE</code> pin.</p> <p></p> <p>The Disable button on the Qwiic Hall-Effect Sensor.</p> <p>Tip</p> <p>The button casing appears to be ferromagnetic. Therefore, a strong magnetic field (i.e. from a rare Earth magnet) could potentially exert enough force to rotate or lift the board.</p>"},{"location":"hardware_overview/#i2c-pins","title":"I<sup>2</sup>C Pins","text":"<p>The I<sup>2</sup>C interface can also be accessed either through the breakout pins or the Qwiic connectors on the board. In most cases, the Qwiic connector will be the simplest method to connect the Qwiic Hall-Effect Sensor boards to a microcontroller.</p> <p></p> <p></p> <p> I<sup>2</sup>C pins on the Qwiic Hall-Effect Sensor boards. </p>  Qwiic Connector <p>Qwiic connectors are provided for users to seamlessly integrate I<sup>2</sup>C devices with SparkFun's Qwiic Ecosystem.</p> <p> </p> <p> </p> <p> Qwiic connector and its pins on the Qwiic Hall-Effect Sensor boards. </p> <p>Interrupt Function</p> <p>TI does not recommend sharing the same I<sup>2</sup>C bus with multiple secondary devices when using the <code>SCL</code> pin for interrupt function. The <code>SCL</code> interrupt may cause bus contention issues that would corrupt the I<sup>2</sup>C transactions with other secondary devices, when present on the same I<sup>2</sup>C bus.</p>"},{"location":"hardware_overview/#interrupt-pin","title":"Interrupt Pin","text":"<p>The interrupt function can be configured to operate through either the <code>SCL</code> or <code>INT</code> pins. When utilizing the interrupt pin (<code>INT</code>), the interrupt function can be configured to trigger once a conversion is completed or when a magnetic threshold has been surpassed.</p> <p></p> <p></p> <p> Interrupt pin on the Qwiic Hall-Effect Sensor boards. </p>"},{"location":"hardware_overview/#qwiic-connectors","title":"Qwiic Connectors","text":"<p>Qwiic connectors are provided for users to seamlessly integrate with SparkFun's Qwiic Ecosystem. Otherwise, users can access the I<sup>2</sup>C interface through the PTH pins broken out on the board.</p> <p></p> <p></p> <p> Qwiic connectors on the Qwiic Hall-Effect Sensor boards. </p> What is Qwiic? <p> </p> <p>The Qwiic connect system is a solderless, polarized connection system that allows users to seamlessly daisy chain I<sup>2</sup>C boards together. Play the video below to learn more about the Qwiic connect system or click on the banner above to learn more about Qwiic products.</p> <p> </p> <p>Features of the Qwiic System</p> No SolderingPolarized ConnectorDaisy Chain-able <p> </p> <p>Qwiic cables (4-pin JST) plug easily from development boards to sensors, shields, accessory boards and more, making easy work of setting up a new prototype.</p> <p> </p> <p>There's no need to worry about accidentally swapping the SDA and SCL wires on your breadboard. The Qwiic connector is polarized so you know you\u2019ll have it wired correctly  every time, right from the start.</p> <p>The PCB connector is part number SM04B-SRSS (Datasheet) or equivalent. The mating connector used on cables is part number SHR04V-S-B or an equivalent (1mm pitch, 4-pin JST connector).</p> <p> </p> <p>It\u2019s time to leverage the power of the I<sup>2</sup>C bus! Most Qwiic boards will have two or more connectors on them, allowing multiple devices to be connected.</p>"},{"location":"hardware_overview/#jumpers","title":"Jumpers","text":"Never modified a jumper before? <p>Check out our Jumper Pads and PCB Traces tutorial for a quick introduction!</p> <ul> <li> <p> <p>How to Work with Jumper Pads and PCB Traces</p> <p>There are three jumpers on the back of the board that can be used to easily modify the hardware connections of the board.</p> <ul> <li>LED - This jumper can be used to disconnect power from the red, power LED for low-power applications.</li> <li>I2C - This jumper can be used to remove the pull-up resistors on the I<sup>2</sup>C bus.</li> <li>INT - This jumper can be used to remove the pull-up resistor from the <code>INT</code> pin.</li> </ul> <p></p> <p>Jumpers on the back of the Qwiic Hall-Effect Sensor board.</p> <p></p> <p>Jumpers on the Qwiic Hall-Effect Sensor board.</p>"},{"location":"introduction/","title":"Introduction","text":"<p>Do you have a project that could use an inconspicuous HID (human interface device)? Ever wanted to tamper-proof your window alarm (i.e. contact sensors) from teenagers sneaking out or home intruders? Do you have a mechanical switch that keeps failing?</p> <ul> <li> <p> SparkFun Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic) SKU: SEN-23880 <p> </p> <p> \u00a0\u00a0Purchase from SparkFun  </p> <li> <p> SparkFun Mini Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic) SKU: SEN-23881 <p> </p> <p> \u00a0\u00a0\u00a0Purchase from SparkFun  </p> <p>If you answered yes to any of those questions, the TMAG5273 from Texas Instruments could be the solution to your problems. The TMAG5273 is low-power 3D hall-effect sensor that is perfect for detecting and measuring changes in a nearby magnetic field. With a linear, magnetic range configurable to either \u00b140 mT or \u00b180 mT and TI's integrated angle calculation engine (CORDIC), the TMAG5273 can be used in various applications:</p> <ul> <li>Detecting motor movement</li> <li>Creating a HID (human interface device) (i.e. joysticks, knobs, scroll wheels, etc.)</li> <li>Replacing various mechanical switches (i.e. rotary encoders, contact switches, reed switches, etc.)*</li> </ul> <p>In addition, the included magnetic tamper detection and wake-up/threshold settings can be configured to trigger interrupts through the I<sup>2</sup>C interface or only with the dedicated interrupt pin.</p>"},{"location":"introduction/#required-materials","title":"Required Materials","text":"<p>To get started, users will need a few items. Now some users may already have a few of these items, feel free to modify your cart accordingly.</p> <ul> <li>Computer with an operating system (OS) that is compatible with all the software installation requirements</li> <li>A compatible microcontroller/Arduino board; we recommend the SparkFun RedBoard Plus.</li> <li>USB 3.1 Cable A to C - 3 Foot - Used to interface with the RedBoard Plus (1)</li> <li>SparkFun Qwiic Cable Kit (2)</li> <li>SparkFun Hall-Effect Sensor - TMAG5273 (3)</li> <li>Magnet Square - 0.25\" (4)</li> </ul> <ol> <li>If your computer doesn't have a USB-A slot, then choose an appropriate cable or adapter.</li> <li>Check out our other Qwiic cable options.</li> <li>The mini version of this product is panel-mount compatible.</li> <li>Check out the other magnets in our catalog.</li> </ol> <ul> <li> <p> <p>USB 3.1 Cable A to C - 3 Foot CAB-14743</p> <li> <p> <p>SparkFun RedBoard Plus DEV-18158</p> <li> <p> <p>SparkFun Qwiic Cable Kit KIT-15081</p> <li> <p> <p>SparkFun Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic) SEN-23880</p> Button Casing <p>The button casing appears to be ferromagnetic. Therefore, a strong magnetic field (i.e. from a rare Earth magnet) could potentially exert enough force to rotate or lift the board.</p> <li> <p> <p>SparkFun Mini Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic) SEN-23881</p> <li> <p> <p>Magnet Square - 0.25\" COM-08643</p> Metal Casing <p>The casing for rare Earth magnets, such as these, is often conductive. Users should take precautions to avoid shorting out the components or electrical contacts.</p> Headers and Wiring <p>To add headers or hookup wires, users will need soldering equipment and headers/wire.</p> <p>New to soldering?</p> <p>Check out our How to Solder: Through-Hole Soldering tutorial for a quick introduction!</p> <ul> <li> <p> <p>How to Solder: Through-Hole Soldering</p> <ul> <li> <p> <p>Solder Lead Free - 100-gram Spool TOL-09325</p> <li> <p> <p>Weller WLC100 Soldering Station TOL-14228</p> <li> <p> <p>Chip Quik No-Clean Flux Pen - 10mL TOL-14579</p> <li> <p> <p>Break Away Headers - Straight PRT-00116</p> <li> <p> <p>Hook-Up Wire - Assortment (Stranded, 22 AWG) PRT-11375</p> Jumper Modification <p>To modify the jumpers, users will need soldering equipment and/or a hobby knife.</p> <p>New to jumper pads?</p> <p>Check out our Jumper Pads and PCB Traces Tutorial for a quick introduction!</p> <ul> <li> <p> <p>How to Work with Jumper Pads and PCB Traces</p> <ul> <li> <p> <p>Solder Lead Free - 100-gram Spool TOL-09325</p> <li> <p> <p>Weller WLC100 Soldering Station TOL-14228</p> <li> <p> <p>Chip Quik No-Clean Flux Pen - 10mL TOL-14579</p> <li> <p> <p>Hobby Knife TOL-09200</p>"},{"location":"introduction/#suggested-reading","title":"Suggested Reading","text":"<p>As a more sophisticated product, we will skip over the more fundamental tutorials (i.e. Ohm's Law and What is Electricity?). However, below are a few tutorials that may help users familiarize themselves with various aspects of the board.</p> <ul> <li> <p> <p>Installing the Arduino IDE</p> <li> <p> <p>Installing an Arduino Library</p> <li> <p> <p>RedBoard Plus Hookup Guide</p> USB Driver <ul> <li> <p> <p>How to Install CH340 Drivers</p> <li> <p> <p>Serial Terminal Basics</p> <li> <p> <p>Logic Levels</p> <li> <p> <p>I2C</p> <li> <p> <p>How to Solder: Through-Hole Soldering</p> <li> <p> <p>How to Work with Jumper Pads and PCB Traces</p>"},{"location":"print_view/","title":"Introduction","text":"<p>Do you have a project that could use an inconspicuous HID (human interface device)? Ever wanted to tamper-proof your window alarm (i.e. contact sensors) from teenagers sneaking out or home intruders? Do you have a mechanical switch that keeps failing?</p> <ul> <li> <p> SparkFun Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic) SKU: SEN-23880 <p> </p> <p> \u00a0\u00a0Purchase from SparkFun  </p> <li> <p> SparkFun Mini Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic) SKU: SEN-23881 <p> </p> <p> \u00a0\u00a0\u00a0Purchase from SparkFun  </p> <p>If you answered yes to any of those questions, the TMAG5273 from Texas Instruments could be the solution to your problems. The TMAG5273 is low-power 3D hall-effect sensor that is perfect for detecting and measuring changes in a nearby magnetic field. With a linear, magnetic range configurable to either \u00b140 mT or \u00b180 mT and TI's integrated angle calculation engine (CORDIC), the TMAG5273 can be used in various applications:</p> <ul> <li>Detecting motor movement</li> <li>Creating a HID (human interface device) (i.e. joysticks, knobs, scroll wheels, etc.)</li> <li>Replacing various mechanical switches (i.e. rotary encoders, contact switches, reed switches, etc.)*</li> </ul> <p>In addition, the included magnetic tamper detection and wake-up/threshold settings can be configured to trigger interrupts through the I<sup>2</sup>C interface or only with the dedicated interrupt pin.</p>"},{"location":"print_view/#required-materials","title":"Required Materials","text":"<p>To get started, users will need a few items. Now some users may already have a few of these items, feel free to modify your cart accordingly.</p> <ul> <li>Computer with an operating system (OS) that is compatible with all the software installation requirements</li> <li>A compatible microcontroller/Arduino board; we recommend the SparkFun RedBoard Plus.</li> <li>USB 3.1 Cable A to C - 3 Foot - Used to interface with the RedBoard Plus (1)</li> <li>SparkFun Qwiic Cable Kit (2)</li> <li>SparkFun Hall-Effect Sensor - TMAG5273 (3)</li> <li>Magnet Square - 0.25\" (4)</li> </ul> <ol> <li>If your computer doesn't have a USB-A slot, then choose an appropriate cable or adapter.</li> <li>Check out our other Qwiic cable options.</li> <li>The mini version of this product is panel-mount compatible.</li> <li>Check out the other magnets in our catalog.</li> </ol> <ul> <li> <p> <p>USB 3.1 Cable A to C - 3 Foot CAB-14743</p> <li> <p> <p>SparkFun RedBoard Plus DEV-18158</p> <li> <p> <p>SparkFun Qwiic Cable Kit KIT-15081</p> <li> <p> <p>SparkFun Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic) SEN-23880</p> Button Casing <p>The button casing appears to be ferromagnetic. Therefore, a strong magnetic field (i.e. from a rare Earth magnet) could potentially exert enough force to rotate or lift the board.</p> <li> <p> <p>SparkFun Mini Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic) SEN-23881</p> <li> <p> <p>Magnet Square - 0.25\" COM-08643</p> Metal Casing <p>The casing for rare Earth magnets, such as these, is often conductive. Users should take precautions to avoid shorting out the components or electrical contacts.</p> Headers and Wiring <p>To add headers or hookup wires, users will need soldering equipment and headers/wire.</p> <p>New to soldering?</p> <p>Check out our How to Solder: Through-Hole Soldering tutorial for a quick introduction!</p> <ul> <li> <p> <p>How to Solder: Through-Hole Soldering</p> <ul> <li> <p> <p>Solder Lead Free - 100-gram Spool TOL-09325</p> <li> <p> <p>Weller WLC100 Soldering Station TOL-14228</p> <li> <p> <p>Chip Quik No-Clean Flux Pen - 10mL TOL-14579</p> <li> <p> <p>Break Away Headers - Straight PRT-00116</p> <li> <p> <p>Hook-Up Wire - Assortment (Stranded, 22 AWG) PRT-11375</p> Jumper Modification <p>To modify the jumpers, users will need soldering equipment and/or a hobby knife.</p> <p>New to jumper pads?</p> <p>Check out our Jumper Pads and PCB Traces Tutorial for a quick introduction!</p> <ul> <li> <p> <p>How to Work with Jumper Pads and PCB Traces</p> <ul> <li> <p> <p>Solder Lead Free - 100-gram Spool TOL-09325</p> <li> <p> <p>Weller WLC100 Soldering Station TOL-14228</p> <li> <p> <p>Chip Quik No-Clean Flux Pen - 10mL TOL-14579</p> <li> <p> <p>Hobby Knife TOL-09200</p>"},{"location":"print_view/#suggested-reading","title":"Suggested Reading","text":"<p>As a more sophisticated product, we will skip over the more fundamental tutorials (i.e. Ohm's Law and What is Electricity?). However, below are a few tutorials that may help users familiarize themselves with various aspects of the board.</p> <ul> <li> <p> <p>Installing the Arduino IDE</p> <li> <p> <p>Installing an Arduino Library</p> <li> <p> <p>RedBoard Plus Hookup Guide</p> USB Driver <ul> <li> <p> <p>How to Install CH340 Drivers</p> <li> <p> <p>Serial Terminal Basics</p> <li> <p> <p>Logic Levels</p> <li> <p> <p>I2C</p> <li> <p> <p>How to Solder: Through-Hole Soldering</p> <li> <p> <p>How to Work with Jumper Pads and PCB Traces</p>"},{"location":"print_view/#hardware-overview","title":"Hardware Overview","text":""},{"location":"print_view/#board-dimensions","title":"Board Dimensions","text":"<p>The Qwiic Hall-Effect Sensors are laid out in the standardized 0.5\"x 1\" (1.77 x 2.54 cm) mini form-factor and the regular, 1\" x 1\" (2.54 x 2.54 cm) Qwiic breakout board. These boards also include standard 0.13\" mounting holes, which are compatible with 4-40 screws. The dimensions of these boards are illustrated in the drawings below, where the listed measurements are in inches.</p> <p></p> <p></p> <p> Dimensions (PDF) for the Qwiic Hall-Effect Sensor boards, in inches. </p> Need more measurements? <p>For more information about the board's dimensions, users can download the eagle files for the boards. These files can be opened in Eagle and additional measurements can be made with the dimensions tool.</p>  Eagle - Free Download! <p>Eagle is a CAD program for electronics that is free to use for hobbyists and students. However, it does require an account registration to utilize the software.</p> <p> Download fromAutodesk primary logo </p>  Dimensions Tool <p>This video from Autodesk demonstrates how to utilize the dimensions tool in Eagle, to include additional measurements:</p> <p> </p>"},{"location":"print_view/#power","title":"Power","text":"<p>The TMAG5273 requires a supply voltage between 2.3 to 3.6V (1). This power can be provided to the board, either, through one of the polarized Qwiic connectors or the dedicated 3.3V (<code>3V3</code>) and ground (<code>GND</code>) PTH pins broken out on the board.</p> <ol> <li>While the sensor's listed voltage range is 1.7 to 3.6V, its under-voltage range is 1.9 to 2.2V. Users may find that their sensor is unresponsive below 2.3V.</li> </ol> <p></p> <p></p> <p> Qwiic Hall-Effect Sensor boards' power connections. </p> <p>Warning</p> <p>The Qwiic connect system is meant to run on 3.3V. Ensure that another voltage is not being supplied through the PTH pins when utilized in conjunction with this system.</p> Under-Voltage Threshold <p>The under-voltage threshold of the TMAG5273 is 1.9 to 2.2V. It is recommended that users provide an input voltage between 2.3 to 3.6V.</p> <p>Info</p> <p>For more details, users can reference the schematic and the TMAG5273 datasheet.</p>"},{"location":"print_view/#power-status-led","title":"Power Status LED","text":"<p>The red, <code>PWR</code> LED will begin to light up once ~1.4V is supplied to the board; however, for most users, it will light up when 3.3V is supplied through the Qwiic connector. A jumper is available to disconnect the power from the LED, for low-power applications (see Jumpers section below).</p> <p></p> <p></p> <p> The <code>PWR</code> status LED on the Qwiic Hall-Effect Sensor boards. </p> <p>Minimum Voltage</p> <p>Users should keep in mind that the forward voltage of the red LED is lower than the minimum voltage required to power the TMAG5273 sensor. Therefore, the LED could potentially be (dimly) lit, when there isn't enough voltage to power the sensor.</p>"},{"location":"print_view/#tmag5273","title":"TMAG5273","text":"<p>The Qwiic Hall-Effect Sensor board features the TMAG5273 sensor from Texas Instruments. The TMAG5273 is low-power 3D hall-effect sensor that is perfect for detecting and measuring changes in a nearby magnetic field. The magnetic range of the sensor is configurable to either \u00b140 mT or \u00b180 mT. In addition, the TMAG5273 features TI's integrated angle calculation engine (CORDIC) with gain adjustment, tamper detection, and temperature compensation (for NdBFe and ceramic magnet types). The operation sensor's interrupt can be configured to trigger through the I<sup>2</sup>C interface or an interrupt pin, based upon a wake-up/threshold setting or the conversion of a new measurement.</p> <p>Features:</p> <ul> <li>Configurable I<sup>2</sup>C Address:<ul> <li>Default (7-bit): 0x35 (hex) or <code>0110101</code> (bin)</li> </ul> </li> <li>Operating Voltage: 1.7 to 3.6V (1)</li> <li>Current Draw:<ul> <li>Active: 2.3mA</li> <li>Sleep Mode: 5nA</li> <li>Wake-Up/Sleep (@ 1Hz): 1\u00b5A</li> </ul> </li> <li>Full-Scale Range: \u00b140mT or \u00b180mT (2)</li> <li>Accuracy: \u00b15% (3)<ul> <li>Temperature Compensation (4)</li> </ul> </li> <li>CORDIC Engine (5)</li> <li>Output Data Rate (Hz): (6)<ul> <li>0.05, 0.2, 0.5, 1, 2, 10, 20, 33, 50, 66, 100, 200, or 1000</li> </ul> </li> <li>Operating Temperature: -40 to 125\u00b0C</li> <li>Interrupt Triggers:<ul> <li>Threshold</li> <li>Conversion</li> </ul> </li> </ul> <ol> <li>The sensor may be unresponsive below 2.3V; its under-voltage range is 1.9 to 2.2V</li> <li>The range on each axis</li> <li>The typical sensitivity at room temperature</li> <li>Adjusts for magnet type (NdBFe or ceramic)</li> <li>Integrated angle calculation (along a single axis)</li> <li>CRC can be enabled</li> </ol> <p></p> <p>The TMAG5273 sensor on the Qwiic Hall-Effect Sensor boards.</p> Sensor Alignment PositionOrientation <p>We have positioned the TMAG5273 chip, based on the offset of the internal hall elements in the sensor.</p> <p> Position of the hall elements in the TMAG5273. Source: TMAG5273 Datasheet </p> <p>Info</p> <p>For exact measurements, users can download and reference the eagle files of the boards. We recommend referencing the sensor's position based on the board's CNC milled, mounting holes.</p> <p>Note</p> <p>In manufacturing, we panelize our boards on a single PCB with a v-score separation. This is an efficient method to assemble multiple boards at once. After the panel is populated, cleaned, and inspected, the individual boards are separated by slicing the v-scores.</p> <p>While efficient, this process means that measurements referencing the edges of the PCB won't be as accurate when compared to the included mounting holes.</p> <p>The orientation of the sensor's axes is illustrated in the figure below.</p> <p> The magnetic field orientation of the TMAG5273 hall-effect sensor. The TMAG5273's orientation is indicated by the black dot, just below the TI logo. Source: TMAG5273 Datasheet </p> <p>Info</p> <p>The orientation of the TMAG5273 sensor is indicated by the white silkscreen dot, next to the sensor, on the PCB of the Qwiic Hall-Effect Sensor boards. That dot correlates with the black dot just below the Texas Instruments logo in the figure above. </p> Interrupt Operation <p>The interrupt function for the TMAG5273 can be set up to operate on either the <code>INT</code> or <code>SCL</code> pins. Users can also configure what triggers the interrupt, a threshold or data conversion. Control of the interrupt's operation is managed in the following registers:</p> <ul> <li><code>DEVICE_CONFIG_2</code></li> <li><code>SENSOR_CONFIG_2</code></li> <li><code>INT_CONFIG_1</code></li> </ul> Magnetic Offset Correction <p>The TMAG5273 features an offset correction, on a pair of magnetic axes for situations where the sensor might be affected by a persistent magnetic field. The offsets are configured in the following registers:</p> <ul> <li><code>MAG_OFFSET_CONFIG_1</code></li> <li><code>MAG_OFFSET_CONFIG_2</code></li> <li><code>SENSOR_CONFIG_2</code></li> </ul> <p> The magnetic flux measurements of a sine curve with an offset above the reference axis. Source: TMAG5273 Datasheet </p> Gain Adjustment <p>The TMAG5273 features a gain adjustment, on a pair of magnetic axes for situations where a magnet's rotation axis is offset from the position of the sensor's hall elements. The gain adjustments are configured in the following registers:</p> <ul> <li><code>MAG_GAIN_CONFIG</code></li> <li><code>SENSOR_CONFIG_2</code></li> </ul> <p> The magnetic flux measurements of the TMAG5273 utilizing a magnet, with an on-axis and off-axis position. Source: TMAG5273 Datasheet </p> Tamper Detection <p>Magnetic tamper detection can be employed with the TMAG5273 by continuously monitoring for external magnetic fields. For more details, users can reference section 8.2.1 of the TMAG5273 datasheet and the application note.</p> <p>Info</p> <p>For more details, users can reference the TMAG5273 datasheet.</p>"},{"location":"print_view/#breakout-pins","title":"Breakout Pins","text":"<p>There are six PTH pins broken out on the Qwiic Hall-Effect Sensor boards. The pins are evenly spaced at 0.1\" on the outer edge of the board; perfect for attaching headers. These pins provide access to the I<sup>2</sup>C interface and interrupt pin of the TMAG5273 sensor; and included is a <code>DISABLE</code> pin that controls the power to the sensor.</p> <p>Note</p> <p>The I<sup>2</sup>C interface can also be accessed through the Qwiic connectors on the board.</p>"},{"location":"print_view/#disable-pin","title":"Disable Pin","text":"<p>Unfortunately, the TMAG5273 doesn't incorporate a software reset. The intended use of the TMAG5273 is to hard reset the sensor's power with a GPIO pin. However, with the Qwiic connect system, users may not want to power cycle the other Qwiic devices on the system. Therefore, we have incorporated <code>DISABLE</code> pin whose circuitry allows users to reset the TMAG5273, without interrupting the power of the Qwiic connect system.</p> <p></p> <p></p> <p> The <code>DISABLE</code> pin on the Qwiic Hall-Effect Sensor boards. </p> <p>Info</p> <p>For more details, users can reference the schematic and the TMAG5273 datasheet.</p>"},{"location":"print_view/#disable-button","title":"Disable Button","text":"<p>A Disable button is only provided on the regular, 1\" x 1\" Qwiic board. This button is connected to the same reset circuitry of the <code>DISABLE</code> pin.</p> <p></p> <p>The Disable button on the Qwiic Hall-Effect Sensor.</p> <p>Tip</p> <p>The button casing appears to be ferromagnetic. Therefore, a strong magnetic field (i.e. from a rare Earth magnet) could potentially exert enough force to rotate or lift the board.</p>"},{"location":"print_view/#i2c-pins","title":"I<sup>2</sup>C Pins","text":"<p>The I<sup>2</sup>C interface can also be accessed either through the breakout pins or the Qwiic connectors on the board. In most cases, the Qwiic connector will be the simplest method to connect the Qwiic Hall-Effect Sensor boards to a microcontroller.</p> <p></p> <p></p> <p> I<sup>2</sup>C pins on the Qwiic Hall-Effect Sensor boards. </p>  Qwiic Connector <p>Qwiic connectors are provided for users to seamlessly integrate I<sup>2</sup>C devices with SparkFun's Qwiic Ecosystem.</p> <p> </p> <p> </p> <p> Qwiic connector and its pins on the Qwiic Hall-Effect Sensor boards. </p> <p>Interrupt Function</p> <p>TI does not recommend sharing the same I<sup>2</sup>C bus with multiple secondary devices when using the <code>SCL</code> pin for interrupt function. The <code>SCL</code> interrupt may cause bus contention issues that would corrupt the I<sup>2</sup>C transactions with other secondary devices, when present on the same I<sup>2</sup>C bus.</p>"},{"location":"print_view/#interrupt-pin","title":"Interrupt Pin","text":"<p>The interrupt function can be configured to operate through either the <code>SCL</code> or <code>INT</code> pins. When utilizing the interrupt pin (<code>INT</code>), the interrupt function can be configured to trigger once a conversion is completed or when a magnetic threshold has been surpassed.</p> <p></p> <p></p> <p> Interrupt pin on the Qwiic Hall-Effect Sensor boards. </p>"},{"location":"print_view/#qwiic-connectors","title":"Qwiic Connectors","text":"<p>Qwiic connectors are provided for users to seamlessly integrate with SparkFun's Qwiic Ecosystem. Otherwise, users can access the I<sup>2</sup>C interface through the PTH pins broken out on the board.</p> <p></p> <p></p> <p> Qwiic connectors on the Qwiic Hall-Effect Sensor boards. </p> What is Qwiic? <p> </p> <p>The Qwiic connect system is a solderless, polarized connection system that allows users to seamlessly daisy chain I<sup>2</sup>C boards together. Play the video below to learn more about the Qwiic connect system or click on the banner above to learn more about Qwiic products.</p> <p> </p> <p>Features of the Qwiic System</p> No SolderingPolarized ConnectorDaisy Chain-able <p> </p> <p>Qwiic cables (4-pin JST) plug easily from development boards to sensors, shields, accessory boards and more, making easy work of setting up a new prototype.</p> <p> </p> <p>There's no need to worry about accidentally swapping the SDA and SCL wires on your breadboard. The Qwiic connector is polarized so you know you\u2019ll have it wired correctly  every time, right from the start.</p> <p>The PCB connector is part number SM04B-SRSS (Datasheet) or equivalent. The mating connector used on cables is part number SHR04V-S-B or an equivalent (1mm pitch, 4-pin JST connector).</p> <p> </p> <p>It\u2019s time to leverage the power of the I<sup>2</sup>C bus! Most Qwiic boards will have two or more connectors on them, allowing multiple devices to be connected.</p>"},{"location":"print_view/#jumpers","title":"Jumpers","text":"Never modified a jumper before? <p>Check out our Jumper Pads and PCB Traces tutorial for a quick introduction!</p> <ul> <li> <p> <p>How to Work with Jumper Pads and PCB Traces</p> <p>There are three jumpers on the back of the board that can be used to easily modify the hardware connections of the board.</p> <ul> <li>LED - This jumper can be used to disconnect power from the red, power LED for low-power applications.</li> <li>I2C - This jumper can be used to remove the pull-up resistors on the I<sup>2</sup>C bus.</li> <li>INT - This jumper can be used to remove the pull-up resistor from the <code>INT</code> pin.</li> </ul> <p></p> <p>Jumpers on the back of the Qwiic Hall-Effect Sensor board.</p> <p></p> <p>Jumpers on the Qwiic Hall-Effect Sensor board.</p>"},{"location":"print_view/#hardware-assembly","title":"Hardware Assembly","text":""},{"location":"print_view/#qwiic-cable","title":"Qwiic Cable","text":"<p>The simplest method to connect a microcontroller to a Qwiic Hall-Effect Sensor board is through the Qwiic connector.</p> <p></p> <p>Connecting a Qwiic cable to the Qwiic Hall-Effect Sensor board.</p> <p>Info</p> <p>The Qwiic connection system is a standardized solderless, polarized connector interface that allows users to seamlessly daisy chain I<sup>2</sup>C boards together.</p> Remove Tape <p>Users with the mini version of the Qwiic Hall-Effect Sensor board should remove the tape covering the Qwiic connector.</p> <p> Removing the tape from the Qwiic connector to the Qwiic Hall-Effect Sensor board. </p> <p>Info</p> <p>The tape is used by the pick-and-place machine to place the connector on the board during assembly.</p> <p>Note</p> <p>The tweezers are not necessary, they were only used for illustration purposes. (Fingers would have obscured the camera shot.)</p>"},{"location":"print_view/#breakout-pins_1","title":"Breakout Pins","text":"<p>The PTH pins on the Qwiic Hall-Effect Sensor board are broken out into 0.1\"-spaced pins on the outer edge of the board.</p> New to soldering? <p>If you have never soldered before or need a quick refresher, check out our How to Solder: Through-Hole Soldering guide.</p> <ul> <li> <p> <p>How to Solder: Through-Hole Soldering</p>"},{"location":"print_view/#hookup-wires","title":"Hookup Wires","text":"<p>For a more permanent connection, users can solder wires directly to the board.</p> <p></p> <p>Soldering wires to the Qwiic Hall-Effect Sensor board.</p>"},{"location":"print_view/#headers","title":"Headers","text":"<p>When selecting headers, be sure you are aware of the functionality or physical arrangement required.</p> <p></p> <p>Soldering headers to the Qwiic Hall-Effect Sensor board.</p>"},{"location":"print_view/#software-overview","title":"Software Overview","text":""},{"location":"print_view/#arduino-ide","title":"Arduino IDE","text":"<p>Tip</p> <p>For first-time users, who have never programmed before and are looking to use the Arduino IDE, we recommend beginning with the SparkFun Inventor's Kit (SIK), which is designed to help users get started programming with the Arduino IDE.</p> <p>Most users may already be familiar with the Arduino IDE and its use. However, for those of you who have never heard the name Arduino before, feel free to check out the Arduino website. To get started with using the Arduino IDE, check out our tutorials below:</p> <ul> <li> <p> <p>What is an Arduino?</p> <li> <p> <p>Installing the Arduino IDE</p> <li> <p> <p>Installing an Arduino Library</p> <li> <p> <p>Installing Board Definitions in the Arduino IDE</p> Need help setting up the RedBoard Plus?"},{"location":"print_view/#redboard-plus","title":"RedBoard Plus","text":"<p>The following instructions should help users get started with the RedBoard Plus. For more information about the board, please check out our hookup guide below:</p> <ul> <li> <p> <p>RedBoard Plus Hookup Guide</p>"},{"location":"print_view/#ch340-driver","title":"CH340 Driver","text":"<p>Users will need to install the appropriate driver for their computer to recognize the serial-to-UART chip on their board/adapter. Most of the latest operating systems will recognize the CH340C chip on the board and automatically install the required driver.</p> <p>Tip</p> <p>To manually install the latest CH340 driver on their computer, users can download it from the WCH website. For more information, check out our How to Install CH340 Drivers Tutorial.</p> <ul> <li> <p> <p>How to Install CH340 Drivers</p>"},{"location":"print_view/#selecting-a-board","title":"Selecting a Board","text":"<p>When selecting a board to program in the Arduino IDE, users should select the Arduino Uno from the Tools drop-down menu (_i.e. Tools &gt; Board &gt; Arduino AVR Boards &gt; Arduino Uno).</p> <p> Select the Arduino Uno from the Tools drop-down menu in the Arduino IDE. </p> Arduino IDE 2.x.x - Alternative Method <p>In the newest version of the Arduino IDE 2.<code>x</code>.<code>x</code>, users can also select their board (green) and port (blue) from the <code>Select Board &amp; Port</code> dropdown menu (yellow).</p> <p> Selecting the Arduino Uno and COM5 port from the Select Board &amp; Port drop-down menu in the Arduino IDE (v2.0.3)."},{"location":"print_view/#sparkfun-tmag5273-arduino-library","title":"SparkFun TMAG5273 Arduino Library","text":"<p>The SparkFun TMAG5273 Arduino library can be installed from the library manager in the Arduino IDE by searching for:</p> <pre><code>SparkFun TMAG5273 Arduino library\n</code></pre> <p></p> <p>SparkFun TMAG5273 Arduino library in the library manager of the Arduino IDE.</p> Manually Downloading the Arduino Library <p>For users who would like to manually download and install the library, the <code>*.zip</code> file can be accessed from the GitHub repository or downloaded by clicking the button below.</p> <p>  Download the Arduino Library </p>"},{"location":"print_view/#example-basic","title":"Example - Basic","text":"<p>Once the Arduino library has been installed, the <code>Example1_BasicReadings.ino</code> example file can be accessed from the File &gt; Examples &gt; SparkFun TMAG5273 Arduino Library &gt; Example1_BasicReadings drop-down menu. This example reads the raw magnetic flux (mT) and temperature (\u00b0C) data from the TMAG5273 sensor through the I<sup>2</sup>C interface and displays them in the Serial Monitor.</p> <code>Example1_BasicReadings.ino</code> Code Verification <p>This code was last verified to be functional under the following parameters:</p> <pre><code>Arduino IDE Version: 2.2.1\nArduino Library Version: 1.0.3\n\nHardware Platform:\n- SparkFun RedBoard Plus\n- SparkFun Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic)\n- SparkFun Mini Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic)\n</code></pre> <pre><code>#include &lt;Wire.h&gt;            // Used to establish serial communication on the I2C bus\n#include \"SparkFun_TMAG5273_Arduino_Library.h\" // Used to send and recieve specific information from our sensor\n\nTMAG5273 sensor; // Initialize hall-effect sensor\n\n// I2C default address\nuint8_t i2cAddress = TMAG5273_I2C_ADDRESS_INITIAL;\n\nvoid setup() \n{\n  Wire.begin();\n  // Start serial communication at 115200 baud\n  Serial.begin(115200);  \n\n  // Begin example of the magnetic sensor code (and add whitespace for easy reading)\n  Serial.println(\"TMAG5273 Example 1: Basic Readings\");\n  Serial.println(\"\");\n\n  // If begin is successful (0), then start example\n  if(sensor.begin(i2cAddress, Wire) == 1)\n  {\n    Serial.println(\"Begin\");\n  }\n  else // Otherwise, infinite loop\n  {\n    Serial.println(\"Device failed to setup - Freezing code.\");\n    while(1); // Runs forever\n  }\n\n}\n\n\nvoid loop() \n{\n  // Checks if mag channels are on - turns on in setup\n  if(sensor.getMagneticChannel() != 0) \n  {\n    sensor.setTemperatureEn(true);\n\n    float magX = sensor.getXData();\n    float magY = sensor.getYData();\n    float magZ = sensor.getZData();\n    float temp = sensor.getTemp();\n\n    Serial.print(\"(\");\n    Serial.print(magX);\n    Serial.print(\", \");\n    Serial.print(magY);\n    Serial.print(\", \");\n    Serial.print(magZ);\n    Serial.println(\") mT\");\n    Serial.print(temp);\n    Serial.println(\" C\");\n  }\n  else\n  {\n    // If there is an issue, stop the magnetic readings and restart sensor/example\n    Serial.println(\"Mag Channels disabled, stopping..\");\n    while(1);\n  }\n\n  delay(100);\n}\n</code></pre>"},{"location":"print_view/#hardware-connections","title":"Hardware Connections","text":"<p>For this example, users simply need to connect their Qwiic Hall-Effect Sensor board to their microcontroller, utilizing the I<sup>2</sup>C interface. With the recommended hardware, users can easily connect their boards with the Qwiic connection system.</p> <p></p> <p></p> <p> The Qwiic Hall-Effect Sensor boards are connected to a RedBoard Plus, with a Qwiic cable. </p> Pin Connections <p>For users with a development board without a Qwiic connector, the table below illustrates the required pin connections. Make sure that the logic-level of the sensor is compatible with the development board that is being connected.</p> <p> Sensor Pin Microcontroller Pin RedBoard/Uno <code>SCL</code> I<sup>2</sup>C - Serial Clock <code>SCL</code>/<code>A5</code> <code>SDA</code> I<sup>2</sup>C - Serial Data <code>SDA</code>/<code>A4</code> <code>3V3</code> Power: 1.7 to 3.6V <code>3.3V</code> <code>GND</code> Ground <code>GND</code> <p></p>"},{"location":"print_view/#serial-monitor","title":"Serial Monitor","text":"<p>This example reads the magnetic flux (mT) and temperature values (\u00b0C) from the TMAG5273 sensor and displays them in the Serial Monitor.</p> <p></p> <p>The magnetic flux (mT) and temperature (\u00b0C) values streamed from the TMAG5273 sensor into the Serial Monitor.</p> <p>Tip</p> <p>For this example to work, users will need to move a magnet near the sensor.</p> <p>Warning</p> <p>The casing of rare Earth magnets is often conductive. Users should take precautions to avoid shorting out the components or electrical contacts with these types of magnets.</p>"},{"location":"print_view/#example-interrupt","title":"Example - Interrupt","text":"<p>The <code>Example2_Interrupts.ino</code> example file can be accessed from the File &gt; Examples &gt; SparkFun TMAG5273 Arduino Library &gt; Example2_Interrupts drop-down menu. This example builds upon the previous code in <code>Example1_BasicReadings.ino</code>. Instead of constantly streaming the sensor values from the TMAG5273, the microcontroller enables a magnetic threshold interrupt on the x-axis. Then, it waits until an interrupt is triggered on the <code>INT</code> pin before the data is retrieved through the I<sup>2</sup>C interface.</p> <code>Example2_Interrupts.ino</code> Code Verification <p>The code modification was last verified to be functional under the following parameters:</p> <pre><code>Arduino IDE Version: 2.2.1\nArduino Library Version: 1.0.3\n\nHardware Platform:\n- SparkFun RedBoard Plus\n- SparkFun Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic)\n- SparkFun Mini Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic)\n</code></pre> <p>Required Modification</p> <p>This code was developed to be utilized with the ESP32 on the IoT Motor Driver. Users will need to modify the example code, to utilize the interrupt pins of the ATmega328P on the RedBoard Plus. Replace uint8_t intPin = 4; with uint8_t intPin = 2; to utilize the <code>D2</code> pin on the RedBoard Plus, which can handle interrupts.</p> <p>Original Code:</p> <pre><code>// Interrupt pin used\n// NOTE: This pin is specific to the SparkFun IoT Motor Driver\nuint8_t intPin = 4;\n</code></pre> <p>Modified Code:</p> <pre><code>// Interrupt pin used\n// NOTE: This pin is specific to the SparkFun IoT Motor Driver\nuint8_t intPin = 2;\n</code></pre> <pre><code>#include &lt;Wire.h&gt;               // Used to establish serial communication on the I2C bus\n#include \"SparkFun_TMAG5273_Arduino_Library.h\"  // Used to send and recieve specific information from our sensor\n\nTMAG5273 sensor;  // Initialize hall-effect sensor\n\n// I2C default address\nuint8_t i2cAddress = TMAG5273_I2C_ADDRESS_INITIAL;\n\n// Interrupt pin used\n// NOTE: This pin is specific to the SparkFun IoT Motor Driver\nuint8_t intPin = 4;\n\n// Start the flag as false\nbool interruptFlag = false;\n\n// ISR to print what interrupt was triggered\nvoid isr1() \n{\n  interruptFlag = true;\n}\n\n\nvoid setup() \n{\n  Wire.begin();\n  // Start serial communication at 115200 baud\n  Serial.begin(115200);\n\n  // Configure Interrupt Pin\n  pinMode(intPin, INPUT);\n  // Attach interrupt to pin 4 as a digital, falling pin\n  attachInterrupt(digitalPinToInterrupt(intPin), isr1, CHANGE);\n\n  // Begin example of the magnetic sensor code (and add whitespace for easy reading)\n  Serial.println(\"TMAG5273 Example 2: Interrupts\");\n  Serial.println(\"\");\n  // If begin is successful (0), then start example\n  if (sensor.begin(i2cAddress, Wire) == true)\n  {\n    Serial.println(\"Begin\");\n  } \n  else  // Otherwise, infinite loop\n  {\n    Serial.println(\"Device failed to setup - Freezing code.\");\n    while (1);  // Runs forever\n  }\n\n  // Set interrupt through !INT\n  sensor.setInterruptMode(TMAG5273_INTERRUPT_THROUGH_INT);\n\n  // Set the !INT pin state - pulse for 10us\n  sensor.setIntPinState(true);\n\n  // Enable the interrupt response for the thresholds\n  sensor.setThresholdEn(true);\n\n  //int pinStatus = sensor.getInterruptPinStatus();\n  pinMode(intPin, INPUT);\n\n  // Set X, Y, Z, and T Thresholds for interrupt to be triggered\n  sensor.setXThreshold(5);            // mT\n  //sensor.setYThreshold(5);            // mT\n  //sensor.setZThreshold(5);            // mT\n  //sensor.setTemperatureThreshold(50);  // C\n\n  Serial.print(\"X Threshold Set: \");\n  Serial.println(sensor.getXThreshold());\n}\n\n/* To use the other thresholds, simply change the names and use the other functions: \n- sensor.getYThreshold();\n- sensor.getZThreshold();\n- sensor.getTemperatureThreshold();\n*/\n\nvoid loop()\n{\n  if (interruptFlag == true) \n  {\n    interruptFlag = false;\n    Serial.println(\"X Threshold Reached!\");\n\n    int xThresh = sensor.getXThreshold();\n    Serial.print(\"X Threshold: \");\n    Serial.println(xThresh);\n\n    if (sensor.getMagneticChannel() != 0)  // Checks if mag channels are on - turns on in setup\n    {\n      float magX = sensor.getXData();\n      float magY = sensor.getYData();\n      float magZ = sensor.getZData();\n      float temp = sensor.getTemp();\n\n      Serial.print(\"(\");\n      Serial.print(magX);\n      Serial.print(\", \");\n      Serial.print(magY);\n      Serial.print(\", \");\n      Serial.print(magZ);\n      Serial.println(\") mT\");\n      Serial.print(temp);\n      Serial.println(\" \u00b0C\");\n    } \n    else \n    {\n      Serial.println(\"Mag Channels disabled, stopping..\");\n      while (1);\n    }\n  }\n  else\n  {\n    Serial.println(\"Checking for Interrupts...\");\n  }\n\n  delay(500);\n\n}\n</code></pre>"},{"location":"print_view/#hardware-connections_1","title":"Hardware Connections","text":"<p>For this example, users simply need to connect their Qwiic Hall-Effect Sensor board to their microcontroller, utilizing the I<sup>2</sup>C interface and interrupt pin. Users can easily connect the I<sup>2</sup>C interface with the Qwiic connection system on their boards. To connect the interrupt pin, we recommend utilizing an IC-hook for a temporary connection.</p> <p></p> <p></p> <p> The Qwiic Hall-Effect Sensor boards are connected to a RedBoard Plus, with a Qwiic cable and an IC-hook. </p> Pin Connections <p>For users with a development board without a Qwiic connector, the table below illustrates the required pin connections. Make sure that the logic-level of the sensor is compatible with the development board that is being connected.</p> <p> Sensor Pin Microcontroller Pin RedBoard/Uno <code>INT</code> Interrupt Pin <code>D2</code> <code>SCL</code> I<sup>2</sup>C - Serial Clock <code>SCL</code>/<code>A5</code> <code>SDA</code> I<sup>2</sup>C - Serial Data <code>SDA</code>/<code>A4</code> <code>3V3</code> Power: 1.7 to 3.6V <code>3.3V</code> <code>GND</code> Ground <code>GND</code> <p></p>"},{"location":"print_view/#serial-monitor_1","title":"Serial Monitor","text":"<p>This example waits until an interrupt is triggered by the magnetic threshold before data is retrieved from the TMAG5273 sensor. The data is then displayed in the Serial Monitor.</p> <p></p> <p>The magnetic flux (mT) and temperature (\u00b0C) values streamed from the TMAG5273 sensor into the Serial Monitor.</p> <p>Tip</p> <p>For this example to work, users will need to move a magnet near the sensor to trigger the interrupt.</p> <p>Warning</p> <p>The casing of rare Earth magnets is often conductive. Users should take precautions to avoid shorting out the components or electrical contacts with these types of magnets.</p>"},{"location":"print_view/#example-angle-calculation","title":"Example - Angle Calculation","text":"<p>The <code>Example3_AngleCalculations.ino</code> example file can be accessed from the File &gt; Examples &gt; SparkFun TMAG5273 Arduino Library &gt; Example3_AngleCalculations drop-down menu. This example demonstrates one of the advanced features of the TMAG5273; it enables a CORDIC engine to calculate the angle of a magnet rotating about the z-axis.</p> <code>Example3_AngleCalculations.ino</code> Code Verification <p>This code was last verified to be functional under the following parameters:</p> <pre><code>Arduino IDE Version: 2.2.1\nArduino Library Version: 1.0.3\n\nHardware Platform:\n- SparkFun RedBoard Plus\n- SparkFun Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic)\n- SparkFun Mini Linear 3D Hall-Effect Sensor - TMAG5273 (Qwiic)\n</code></pre> <pre><code>#include &lt;Wire.h&gt;            // Used to establish serial communication on the I2C bus\n#include \"SparkFun_TMAG5273_Arduino_Library.h\" // Used to send and recieve specific information from our sensor\n\n// Create a new sensor object\nTMAG5273 sensor; \n\n// I2C default address\nuint8_t i2cAddress = TMAG5273_I2C_ADDRESS_INITIAL;\n\n// Set constants for setting up device\nuint8_t conversionAverage = TMAG5273_X32_CONVERSION;\nuint8_t magneticChannel = TMAG5273_XYX_ENABLE;\nuint8_t angleCalculation = TMAG5273_XY_ANGLE_CALCULATION;\n\nvoid setup() \n{\n  Wire.begin();\n  // Start serial communication at 115200 baud\n  Serial.begin(115200);   \n\n  // Begin example of the magnetic sensor code (and add whitespace for easy reading)\n  Serial.println(\"TMAG5273 Example 3: Angle Calculations\");\n  Serial.println(\"\");\n  // If begin is successful (0), then start example\n  if(sensor.begin(i2cAddress, Wire) == true)\n  {\n    Serial.println(\"Begin\");\n  }\n  else // Otherwise, infinite loop\n  {\n    Serial.println(\"Device failed to setup - Freezing code.\");\n    while(1); // Runs forever\n  }\n\n  // Set the device at 32x average mode \n  sensor.setConvAvg(conversionAverage);\n\n  // Choose new angle to calculate from\n  // Can calculate angles between XYX, YXY, YZY, and XZX\n  sensor.setMagneticChannel(magneticChannel);\n\n  // Enable the angle calculation register\n  // Can choose between XY, YZ, or XZ priority\n  sensor.setAngleEn(angleCalculation);\n\n}\n\n\nvoid loop() \n{\n  if((sensor.getMagneticChannel() != 0) &amp;&amp; (sensor.getAngleEn() != 0)) // Checks if mag channels are on - turns on in setup\n  {\n    float angleCalculation = sensor.getAngleResult();\n\n    Serial.print(\"XYX: \");\n    Serial.print(angleCalculation, 4);\n    Serial.println(\"\u00b0\");\n\n  }\n  else\n  {\n    Serial.println(\"Mag Channels disabled, stopping..\");\n    while(1);\n  }\n\n  delay(1000);\n}\n</code></pre>"},{"location":"print_view/#hardware-connections_2","title":"Hardware Connections","text":"<p>For this example, users simply need to connect their Qwiic Hall-Effect Sensor board to their microcontroller, utilizing the I<sup>2</sup>C interface. With the recommended hardware, users can easily connect their boards with the Qwiic connection system.</p> <p></p> <p></p> <p> The Qwiic Hall-Effect Sensor boards are connected to a RedBoard Plus, with a Qwiic cable. </p> Pin Connections <p>For users with a development board without a Qwiic connector, the table below illustrates the required pin connections. Make sure that the logic-level of the sensor is compatible with the development board that is being connected.</p> <p> Sensor Pin Microcontroller Pin RedBoard/Uno <code>SCL</code> I<sup>2</sup>C - Serial Clock <code>SCL</code>/<code>A5</code> <code>SDA</code> I<sup>2</sup>C - Serial Data <code>SDA</code>/<code>A4</code> <code>3V3</code> Power: 1.7 to 3.6V <code>3.3V</code> <code>GND</code> Ground <code>GND</code> <p></p>"},{"location":"print_view/#serial-monitor_2","title":"Serial Monitor","text":"<p>This example enables the CORDIC engine to calculate the angle of a magnet rotating about the z-axis, which is then displayed in the Serial Monitor.</p> <p></p> <p>The angle of the magnet is streamed from the TMAG5273 sensor into the Serial Monitor.</p> <p>Tip</p> <p>For this example to work, users should rotate a magnet's polarity about the z-axis of the TMAG5273 hall-effect sensor. Similar to how the magnetic knob is used for this stove top:</p> <p> </p> <p>Warning</p> <p>The casing of rare Earth magnets is often conductive. Users should take precautions to avoid shorting out the components or electrical contacts with these types of magnets.</p>"},{"location":"print_view/#troubleshooting-tips","title":"Troubleshooting Tips","text":"<p>Need Help?</p> <p>If you need technical assistance or more information on a product that is not working as you expected, we recommend heading on over to the SparkFun Technical Assistance page for some initial troubleshooting.</p> <p> SparkFun Technical Assistance Page </p> <p>If you can't find what you need there, the SparkFun Forums is a great place to search product forums and ask questions.</p> <p>Account Registration Required</p> <p>If this is your first visit to our forum, you'll need to create a Forum Account to post questions.</p>"},{"location":"print_view/#pwr-led-dims-when-the-board-is-disabled","title":"<code>PWR</code> LED dims when the board is disabled","text":"<p>The <code>PWR</code> LED on the Qwiic hall-effect sensor may only dim when it is disabled through the Disable button or <code>DISABLE</code> PTH pin. This will occur when the Qwiic hall-effect sensor is used in conjunction with development boards that have pull-up resistors on their <code>SDA</code> and <code>SCL</code> pins.</p> <p>The combination of the pull-up resistors on the development board and the Qwiic hall-effect sensor will bypass the <code>DISABLE</code> pin's power cut-off circuitry. This results in the development board back-powering the Qwiic hall-effect sensor and its LED. In most circumstances, users shouldn't experience any issues, as the sensor should be within the under-voltage threshold and still reset.<sup>1</sup> However, if the issue persists, users can disconnect the pull-up resistors on the Qwiic hall-effect sensor by cutting the <code>I2C</code> jumper.</p>"},{"location":"print_view/#resources","title":"Resources","text":""},{"location":"print_view/#product-resources","title":"Product Resources","text":"<ul> <li> <p>Composite (Both Boards)</p> <ul> <li> Design Files:<ul> <li> Board Dimensions</li> <li> Schematic</li> <li> Eagle Files</li> </ul> </li> <li> Arduino Library</li> <li>Component Documentation<ul> <li> TMAG52735 Datasheet</li> </ul> </li> <li> Hardware Repo</li> </ul> </li> <li> <p>Regular Version (1\" x 1\")</p> <p> </p> <ul> <li> Product Page</li> <li> Design Files:<ul> <li> Board Dimensions</li> <li> Schematic</li> <li> Eagle Files</li> </ul> </li> </ul> </li> <li> <p>Mini Version (0.5\" x 1\")</p> <p> </p> <ul> <li> Product Page</li> <li> Design Files:<ul> <li> Board Dimensions</li> <li> Schematic</li> <li> Eagle Files</li> </ul> </li> </ul> </li> </ul>"},{"location":"print_view/#additional-resources","title":"Additional Resources","text":"<ul> <li> SparkFun Technical Assistance</li> </ul>"},{"location":"print_view/#manufacturers-resources","title":"\ud83c\udfed\u00a0Manufacturer's Resources","text":"<p>ST Microelectronics also provides additional resources for the TMAG52735:</p> <ul> <li>TMAG52735 Product Page</li> </ul> <p> </p> <p>Designing with Hall-effect sensors - electronic smart lock Designing joysticks with Hall-effect sensors</p> <ol> <li> <p>We have thoroughly tested this issue with all of our development boards and have found that the Qwiic hall-effect sensor will still reset, when disabled because the sensor will be within its under-voltage threshold.\u00a0\u21a9</p> </li> </ol>"},{"location":"resources/","title":"Resources","text":""},{"location":"resources/#product-resources","title":"Product Resources","text":"<ul> <li> <p>Composite (Both Boards)</p> <ul> <li> Design Files:<ul> <li> Board Dimensions</li> <li> Schematic</li> <li> Eagle Files</li> </ul> </li> <li> Arduino Library</li> <li>Component Documentation<ul> <li> TMAG52735 Datasheet</li> </ul> </li> <li> Hardware Repo</li> </ul> </li> <li> <p>Regular Version (1\" x 1\")</p> <p> </p> <ul> <li> Product Page</li> <li> Design Files:<ul> <li> Board Dimensions</li> <li> Schematic</li> <li> Eagle Files</li> </ul> </li> </ul> </li> <li> <p>Mini Version (0.5\" x 1\")</p> <p> </p> <ul> <li> Product Page</li> <li> Design Files:<ul> <li> Board Dimensions</li> <li> Schematic</li> <li> Eagle Files</li> </ul> </li> </ul> </li> </ul>"},{"location":"resources/#additional-resources","title":"Additional Resources","text":"<ul> <li> SparkFun Technical Assistance</li> </ul>"},{"location":"resources/#manufacturers-resources","title":"\ud83c\udfed\u00a0Manufacturer's Resources","text":"<p>ST Microelectronics also provides additional resources for the TMAG52735:</p> <ul> <li>TMAG52735 Product Page</li> </ul> <p> </p> <p>Designing with Hall-effect sensors - electronic smart lock Designing joysticks with Hall-effect sensors</p>"},{"location":"software_overview/","title":"Installation and Setup","text":""},{"location":"software_overview/#arduino-ide","title":"Arduino IDE","text":"<p>Tip</p> <p>For first-time users, who have never programmed before and are looking to use the Arduino IDE, we recommend beginning with the SparkFun Inventor's Kit (SIK), which is designed to help users get started programming with the Arduino IDE.</p> <p>Most users may already be familiar with the Arduino IDE and its use. However, for those of you who have never heard the name Arduino before, feel free to check out the Arduino website. To get started with using the Arduino IDE, check out our tutorials below:</p> <ul> <li> <p> <p>What is an Arduino?</p> <li> <p> <p>Installing the Arduino IDE</p> <li> <p> <p>Installing an Arduino Library</p> <li> <p> <p>Installing Board Definitions in the Arduino IDE</p> Need help setting up the RedBoard Plus?"},{"location":"software_overview/#redboard-plus","title":"RedBoard Plus","text":"<p>The following instructions should help users get started with the RedBoard Plus. For more information about the board, please check out our hookup guide below:</p> <ul> <li> <p> <p>RedBoard Plus Hookup Guide</p>"},{"location":"software_overview/#ch340-driver","title":"CH340 Driver","text":"<p>Users will need to install the appropriate driver for their computer to recognize the serial-to-UART chip on their board/adapter. Most of the latest operating systems will recognize the CH340C chip on the board and automatically install the required driver.</p> <p>Tip</p> <p>To manually install the latest CH340 driver on their computer, users can download it from the WCH website. For more information, check out our How to Install CH340 Drivers Tutorial.</p> <ul> <li> <p> <p>How to Install CH340 Drivers</p>"},{"location":"software_overview/#selecting-a-board","title":"Selecting a Board","text":"<p>When selecting a board to program in the Arduino IDE, users should select the Arduino Uno from the Tools drop-down menu (_i.e. Tools &gt; Board &gt; Arduino AVR Boards &gt; Arduino Uno).</p> <p> Select the Arduino Uno from the Tools drop-down menu in the Arduino IDE. </p> Arduino IDE 2.x.x - Alternative Method <p>In the newest version of the Arduino IDE 2.<code>x</code>.<code>x</code>, users can also select their board (green) and port (blue) from the <code>Select Board &amp; Port</code> dropdown menu (yellow).</p> <p> Selecting the Arduino Uno and COM5 port from the Select Board &amp; Port drop-down menu in the Arduino IDE (v2.0.3)."},{"location":"software_overview/#sparkfun-tmag5273-arduino-library","title":"SparkFun TMAG5273 Arduino Library","text":"<p>The SparkFun TMAG5273 Arduino library can be installed from the library manager in the Arduino IDE by searching for:</p> <pre><code>SparkFun TMAG5273 Arduino library\n</code></pre> <p></p> <p>SparkFun TMAG5273 Arduino library in the library manager of the Arduino IDE.</p> Manually Downloading the Arduino Library <p>For users who would like to manually download and install the library, the <code>*.zip</code> file can be accessed from the GitHub repository or downloaded by clicking the button below.</p> <p>  Download the Arduino Library </p>"},{"location":"troubleshooting_tips/","title":"Troubleshooting Tips","text":"<p>Need Help?</p> <p>If you need technical assistance or more information on a product that is not working as you expected, we recommend heading on over to the SparkFun Technical Assistance page for some initial troubleshooting.</p> <p> SparkFun Technical Assistance Page </p> <p>If you can't find what you need there, the SparkFun Forums is a great place to search product forums and ask questions.</p> <p>Account Registration Required</p> <p>If this is your first visit to our forum, you'll need to create a Forum Account to post questions.</p>"},{"location":"troubleshooting_tips/#pwr-led-dims-when-the-board-is-disabled","title":"<code>PWR</code> LED dims when the board is disabled","text":"<p>The <code>PWR</code> LED on the Qwiic hall-effect sensor may only dim when it is disabled through the Disable button or <code>DISABLE</code> PTH pin. This will occur when the Qwiic hall-effect sensor is used in conjunction with development boards that have pull-up resistors on their <code>SDA</code> and <code>SCL</code> pins.</p> <p>The combination of the pull-up resistors on the development board and the Qwiic hall-effect sensor will bypass the <code>DISABLE</code> pin's power cut-off circuitry. This results in the development board back-powering the Qwiic hall-effect sensor and its LED. In most circumstances, users shouldn't experience any issues, as the sensor should be within the under-voltage threshold and still reset.<sup>1</sup> However, if the issue persists, users can disconnect the pull-up resistors on the Qwiic hall-effect sensor by cutting the <code>I2C</code> jumper.</p> <ol> <li> <p>We have thoroughly tested this issue with all of our development boards and have found that the Qwiic hall-effect sensor will still reset, when disabled because the sensor will be within its under-voltage threshold.\u00a0\u21a9</p> </li> </ol>"},{"location":"assets/board_files/","title":"board_files directory","text":"<ol> <li>A <code>dimensions*.pdf</code> file containing the board's measurements.</li> <li>A <code>schematic.pdf</code> file containing the board's schematics.</li> <li>An <code>eagle_files*.zip</code> folder containing the Eagle CAD schematics (<code>*.sch</code>) and PCB design (<code>*.brd</code>) files.<ul> <li>A freeware version of Autodesk Eagle can be found here. </li> </ul> </li> </ol>"},{"location":"assets/component_documentation/","title":"component_documentation directory","text":"<p>A copy of the datasheets, user manuals, programming guides, etc. of the major electrical components on the board.</p> <ul> <li>TMAG5273 Datasheet (PDF)</li> <li>DMG2305UX Datasheet (PDF)</li> </ul> <p>Application Notes:</p> <ul> <li>Introduction to Hall-Effect Sensors</li> <li>Magnet Selection for Linear Position Applications</li> <li>Angle Calculation Methods Using Position Sensor Output Data</li> <li>Angle Measurement With Multi-Axis Linear Hall-Effect Sensors</li> <li>Absolute Angle Measurements for Rotational Motion Using Hall-Effect Sensors</li> <li>Measuring 3D Motion With Absolute Position Sensors</li> <li>Reed Switch Replacement with TI's Hall-effect and Linear 3D Hall-effect Sensors</li> <li>Using Hall-Effect Sensors For Contactless Rotary Encoding and Knob Applications</li> <li>Joystick and Lever Design With Hall-Effect Sensors</li> <li>3D Hall-Effect Sensor for Knobs in Appliances</li> <li>Limit Detection for Tamper and End-of-Travel Detection Using Hall-Effect Sensors</li> </ul>"},{"location":"assets/img/","title":"img directory","text":"<p>This folder should contain the images for the product documentation</p>"},{"location":"assets/img/#general-images","title":"General Images","text":"<ul> <li><code>sfe_logo_sm.png</code> - SparkFun flame logo (Cover page for with-pdf extension)</li> <li><code>sfe_logo_sq.png</code> - SparkFun flame logo (favicon)</li> </ul>"},{"location":"assets/img/#directory","title":"Directory","text":"<ul> <li><code>hookup_guide</code> - Images for the hookup guide pages</li> </ul>"},{"location":"assets/img/#qr-codes","title":"QR Codes","text":"<ul> <li>QR code generator<ul> <li>Flame Color: #E0311D</li> <li>Frame Color: #3C464D</li> <li>Label Font: Arial</li> </ul> </li> <li>Remove meta data from svg</li> </ul>"},{"location":"assets/img/hookup_guide/","title":"img/hookup_guide directory","text":"<p>This folder should contain the images for the hookup guide pages</p>"},{"location":"github/","title":"github directory","text":"<p>This folder should contain the instructions for submitting issues and pull requests for this project</p>"},{"location":"github/contribute/","title":"Contribute: Make an Augmentation!","text":"<p>Spot an improvement opportunity? Feel free to contribute to our open-source design and documentation. </p>"},{"location":"github/contribute/#improve-our-documentation","title":"Improve our Documentation","text":"<p>All of this documentation can be modified by you! Please help us make it better.</p> <ul> <li>These pages are contained in the <code>docs</code> folder of the SparkFun Qwiic Hall-Effect Sensor TMAG5273 repository.</li> </ul>"},{"location":"github/contribute/#submit-a-correction","title":"Submit a Correction","text":"<ol> <li>With a GitHub account, fork this repository.</li> <li>Add your corrections or improvements to the markdown file.</li> <li>File a pull request with your changes, and enjoy making the words worlds world a better place.<ul> <li>Once received, the documentation specialist will automatically be notified.</li> <li>We will review your suggested improvements to make sure they are correct and fit within our documentation standards.</li> </ul> </li> </ol>"},{"location":"github/contribute/#improve-our-hardware-design","title":"Improve our Hardware Design","text":"<p>All of our designs are open-source! Please help us make it better.</p> <ul> <li>Our board design files are contained in the <code>Hardware</code> folder of the SparkFun Qwiic Hall-Effect Sensor TMAG5273 repository.</li> </ul>"},{"location":"github/contribute/#submit-a-design-enhancement","title":"Submit a Design Enhancement","text":"<ol> <li>With a GitHub account, fork this repository.</li> <li>Add your design augmentation(s)</li> <li>File a pull request with your changes, and enjoy making the words worlds world a better place.<ol> <li>Once received, the engineer in charge of the original design will automatically be notified.</li> <li>We will review your suggested improvement(s) to verify that they are within our board design standards and meet our product design requirements.</li> <li> <p>If approved, we will flag these changes for our next board revision. Congrats! \ud83c\udf7b</p> <p>Info</p> <p>Even if your suggestion is accepted, these changes may not be immediately available for purchase. We may have to cycle through our current product inventory first.</p> </li> </ol> </li> </ol>"},{"location":"github/contribute/#contributors","title":"Contributors","text":"<p>Let's provide some recognition to the contributors for this project!</p> <p> </p>"},{"location":"github/file_issue/","title":"Did we make a mistake?","text":"<p>Spot something wrong? Please let us know. </p> <p>Need Help?</p> <p>If you need technical assistance or more information on a product that is not working as you expected, we recommend heading on over to the SparkFun Technical Assistance page for some initial troubleshooting. This Submit Issues page is not where users should seek assistance.</p> <p> SparkFun Technical Assistance Page </p> <p>If you can't find what you need there, the SparkFun Forums is a great place to search the product forums and ask questions.</p> <p>Account Registration Required</p> <p>For your first visit to our forum, you'll need to create a Forum Account to post questions.</p>"},{"location":"github/file_issue/#discrepancies-in-the-documentation","title":"Discrepancies in the Documentation","text":"<p>All of our documentation can be modified by you! Please help us make it better.</p> <ul> <li>The documentation files for these pages are contained in the <code>docs</code> folder of the SparkFun Qwiic Hall-Effect Sensor TMAG5273 repository.</li> </ul>"},{"location":"github/file_issue/#spot-something-wrong","title":"\ud83d\udd0d Spot something wrong?","text":"<p>If a section of the documentation is incorrect, please open an issue and let us know.</p>"},{"location":"github/file_issue/#do-you-have-a-suggested-correction","title":"Do you have a suggested correction?","text":"<p>Please, refer to the Contribute page.</p>"},{"location":"github/file_issue/#problems-in-the-hardware-design","title":"Problems in the Hardware Design","text":"<p>All of our designs are open-source! Please help us make it better.</p> <ul> <li>Our board design files are contained in the <code>Hardware</code> folder of the SparkFun Qwiic Hall-Effect Sensor TMAG5273 repository.</li> </ul>"},{"location":"github/file_issue/#does-something-not-make-sense","title":"Does something not make sense? \ud83e\udd14","text":"<p>If part of the design is confusing, please open an issue and let us know.</p>"},{"location":"github/file_issue/#did-we-forget-to-include-an-important-function-of-the-board","title":"Did we forget to include an important function of the board? \ud83e\udd26","text":"<p>If part of the board's functionality is missing, please open an issue and file a feature request.</p> <p>Design Considerations</p> <p>Please keep in mind that we may intentionally exclude certain functions of the board to meet our product design requirements.</p> <ul> <li>For example, our Qwiic Micro boards are intended to fit on a small board layout and only use I<sup>2</sup>C communication; therefore, we may not have the SPI and interrupt pins available for users.</li> </ul>"},{"location":"github/file_issue/#do-you-wish-to-contribute-directly-to-improving-the-board-design","title":"Do you wish to contribute directly to improving the board design?","text":"<p>Please, refer to the Contribute page.</p>"},{"location":"stylesheet/REAMDE/","title":"stylesheet directory","text":"<p>This folder should contain the files used for the webpage customizations of the product documentation</p>"}]}